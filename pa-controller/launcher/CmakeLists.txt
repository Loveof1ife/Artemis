set(SUBPROJ_NAME launcher)

include_directories("..")
include_directories(${BOOST_PATH}/include/boost-1_87)

add_executable(${SUBPROJ_NAME} launcher.cpp)

target_link_libraries(${SUBPROJ_NAME} PRIVATE
    pa_frame
)

#复制all-steps.json文件
if (CMAKE_BUILD_TYPE STREQUAL "Debug")
    copy_file(${SUBPROJ_NAME} ${STEPLIST_FILE} ${CMAKE_SOURCE_DIR} ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG})
elseif(CMAKE_BUILD_TYPE STREQUAL "Release")
    copy_file(${SUBPROJ_NAME} ${STEPLIST_FILE} ${CMAKE_SOURCE_DIR} ${CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE})
endif()

if (CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
target_link_libraries(${SUBPROJ_NAME} PRIVATE 
    debug   ${BOOST_PATH}/lib/libboost_filesystem-vc143-mt-gd-x64-1_87.lib
    optimized   ${BOOST_PATH}/lib/libboost_filesystem-vc143-mt-x64-1_87.lib     
)
elseif()
    message(FATAL_ERROR 尚未编译clang版本的Boost库)
endif()