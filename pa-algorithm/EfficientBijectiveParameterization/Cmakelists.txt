#Efficient Bijective Parameterization by Jianping Su
project(EfficientBijectiveParameterization)

add_definitions(/D_USE_MATH_DEFINES)
#"You have to define _USE_MATH_DEFINES in the compiler settings!"

if (${LINSYSSOLVER} STREQUAL "Eigen")
    include_directories(SYSTEM ${EIGEN_PATH})
    add_definitions(-DUSE_EIGEN)
elseif(${LINSYSSOLVER} STREQUAL "MKL")
add_definitions(-DUSE_MKL)
endif()

include_directories(${EIGEN_PATH})
include_directories(SYSTEM ${OpenMesh_PATH}/include)
include_directories(SYSTEM ${TRIANGLE_PATH})

file (GLOB SRCFILES
    Parafun.cpp
    Parafun.h
    MeshDefinition.h
    MeshDefinition.cpp
    LinSysSolver/${PARDISO_SOLVER}.h
    LinSysSolver/${PARDISO_SOLVER}.cpp
    BiljectivePara.cpp
    BiljectivePara.h
    ShellData.cpp
    ShellData.h
    Common.cpp
    Common.h
    TriangleInterface.cpp
    TriangleInterface.h
)

add_library(EfficientBijectiveParameterization ${SRCFILES} )

target_link_libraries(EfficientBijectiveParameterization PRIVATE
    Triangle-Interface
    LinSysSolver-Interface
    optimized ${OpenMesh_PATH}/lib/OpenMeshCore.lib
    debug ${OpenMesh_PATH}/lib/OpenMeshCored.lib
    optimized ${OpenMesh_PATH}/lib/OpenMeshTools.lib
    debug ${OpenMesh_PATH}/lib/OpenMeshToolsd.lib
    optimized ${TRIANGLE_PATH}/build/Release/triangle.lib
    debug ${TRIANGLE_PATH}/build/Debug/triangle.lib
)